"use strict";!function(){var t,e,i=document.querySelector("#new-product").content.querySelector(".product"),n=document.querySelector(".new-products"),r=document.querySelector("#slide-list").content.querySelector(".swiper-slide"),d=function(t,e){var i=t.naturalWidth/t.naturalHeight;t.width=t.naturalWidth>e?e:t.naturalWidth,t.height=t.naturalWidth>e?Math.round(e/i):t.naturalHeight},o=function(t){var e=i.cloneNode(!0),n=e.querySelector(".product__title"),r=e.querySelector(".product__description"),o=e.querySelector(".product__category-link"),l=e.querySelector(".product__order"),u=e.querySelector(".product__picture"),c=e.querySelector("source"),s=document.createElement("img");return window.offersSlider.makeElemOrAttr(n,[t.title],["textContent"]),window.offersSlider.makeElemOrAttr(r,[t.description],["textContent"]),window.offersSlider.makeElemOrAttr(o,[t.category,t.catLink],["textContent","href"]),window.offersSlider.makeElemOrAttr(l,[t.buttonText,t.buttonLink],["textContent","href"]),t.slideUrl?(s.classList.add("product__image"),t.detail&&s.classList.add("product__image--detail"),function(t,e){e.addEventListener("load",function(){t.detail?d(this,180):d(this,405)})}(t,s),s.src=t.slideUrl,c.srcset=t.slideUrl.slice(0,-4)+".webp",s.alt="Изображение "+t.title,u.insertAdjacentElement("beforeend",s)):s.remove(),"big"===t.size?e.classList.add("product--big"):e.classList.add("product--small"),e},l=function(i,n,d,o){0===d&&(window.util.RATE=0,window.util.RATE_COUNTER=0),(0===window.util.RATE_COUNTER||window.util.RATE_COUNTER>=i)&&(t=r.cloneNode(!0),(e=t.querySelector("ul")).classList.add("new-products__list"),o.push(t),window.util.RATE_COUNTER=0),window.util.RATE_COUNTER<i&&(e.appendChild(n),window.util.RATE=n.classList.contains("product--big")?2:1,window.util.RATE_COUNTER=window.util.RATE_COUNTER+window.util.RATE)},u=function(t){var e=function(t){var e=[];return t.forEach(function(t){var i=o(t);e.push(i)}),e}(t),i=[];switch(!0){case screen.width>=window.util.DESKTOP_MIN_WIDTH:window.util.MAX_RATE=window.util.DESK_SLIDER_RATE;break;case screen.width>=window.util.TABLET_MIN_WIDTH:window.util.MAX_RATE=window.util.TABLET_SLIDER_RATE;break;default:window.util.MAX_RATE=window.util.MOBILE_SLIDER_RATE}return window.util.MAX_RATE===window.util.MOBILE_SLIDER_RATE?e.forEach(function(t){t.classList.add("swiper-slide"),i.push(t)}):e.forEach(function(t,e){l(window.util.MAX_RATE,t,e,i)}),i};window.backend.getSendData(window.data.NEW_PRODUCTS_DATA,window.backend.backendData.METHOD_FOR_GET,window.sliders.makeSlider,n,"new-products__slider","new-products-slider__list",u,!1,window.sliders.removeSlidesSection,!1,"newProducts",!0),window.newProducts={newProductsSection:n,containerClass:"new-products__slider",listClass:"new-products-slider__list",pushItemsInSlide:l,makeSlides:u}}();