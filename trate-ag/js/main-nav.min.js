"use strict";!function(){var n=document.querySelector("body"),e={navToggle:"nav-toggle--closed",mainNav:"main-nav--closed",mainNavList:"main-nav__list--closed"},i={navToggle:"nav-toggle--opened",mainNav:"main-nav--opened",mainNavList:"main-nav__list--opened"},t=document.querySelector(".main-nav"),s={mainNav:t,navToggle:t.querySelector(".nav-toggle"),mainNavList:t.querySelector(".main-nav__list")},a=Array.from(s.mainNavList.querySelectorAll(".main-nav__item")),o=Array.from(s.mainNavList.querySelectorAll(".main-nav__nesting-list"));Array.from(t.querySelector(".main-nav__link--list")).forEach(function(n){n.preventDefault()});var l=function(n,e,i){var t=Array.from(n.classList),a="";t.forEach(function(n){n.includes(i)&&(a=n)}),a&&n.classList.remove(a),n===s.navToggle&&(n.classList.add("visually-hidden"),window.setTimeout(function(){n.classList.remove("visually-hidden")},500),n.classList.contains("nav-toggle--with-js")||n.classList.add("nav-toggle--with-js")),n.classList.add(e)},c=function(){for(var i in window.setTimeout(function(){screen.width<=window.util.MOB_NAV_MAX_WIDTH&&s.mainNavList.classList.add("hidden")},500),m(o),s)s.hasOwnProperty(i)&&l(s[i],e[i],"--opened");n.removeAttribute("style")},r=function(){for(var e in s)s.hasOwnProperty(e)&&l(s[e],i[e],"--closed");n.style="overflow-y: hidden",s.mainNavList.classList.remove("hidden")},v=function(){window.navToggle.toggleElement(window.navToggle.checkIsElemClosed(s.navToggle,"nav-toggle--closed"),r,c,s.navToggle),window.setTimeout(function(){s.navToggle.focus()},405)},m=function(n){n.forEach(function(n){n.classList.contains("visually-hidden")||n.classList.add("visually-hidden")})},d=function(n){if(n.currentTarget.classList.contains("main-nav__item--list")){var e=n.currentTarget.querySelector(".main-nav__nesting-list"),i=Array.from(e.querySelectorAll(".main-nav__nesting-item"));screen.width>window.util.MOBILE_MAX_WIDTH&&screen.width<window.util.DESKTOP_MIN_WIDTH&&o.forEach(function(n){n.classList.add("visually-hidden")}),e.classList.remove("visually-hidden"),screen.width<=window.util.TABLET_MAX_WIDTH?(i.forEach(function(n){n.classList.contains("main-nav__nesting-item--close-anim")&&n.classList.remove("main-nav__nesting-item--close-anim"),n.classList.add("main-nav__nesting-item--open-anim")}),e.classList.contains("main-nav__nesting-list--close-anim")&&e.classList.remove("main-nav__nesting-list--close-anim"),e.classList.add("main-nav__nesting-list--open-anim")):(i.forEach(function(n){n.classList.remove("main-nav__nesting-item--close-anim")}),e.classList.remove("main-nav__nesting-list--close-anim"))}},u=function(n){var e;n.target.nextElementSibling&&(n.target.nextElementSibling.classList.contains("visually-hidden")?d(n):(e=n.target.nextElementSibling,screen.width<=window.util.TABLET_MAX_WIDTH?(Array.from(e.querySelectorAll(".main-nav__nesting-item")).forEach(function(n){n.classList.contains("main-nav__nesting-item--open-anim")&&n.classList.remove("main-nav__nesting-item--open-anim"),n.classList.add("main-nav__nesting-item--close-anim")}),e.classList.contains("main-nav__nesting-list--open-anim")&&e.classList.remove("main-nav__nesting-list--open-anim"),e.classList.add("main-nav__nesting-list--close-anim"),window.setTimeout(function(){e.classList.add("visually-hidden")},400)):e.classList.add("visually-hidden")))},g=function(n){m(o),document.activeElement.blur(),d(n)},_=function(n){u(n)},f=function(n){m(o),d(n)},L=function(n){d(n)},w=function(){m(o)};s.navToggle.addEventListener("click",function(){v()}),window.mainNav={toggleNav:v,toggleNavFromResize:function(){s.navToggle.classList.contains("nav-toggle--closed")&&s.navToggle.classList.remove("nav-toggle--closed"),v(),screen.width>window.util.MOB_NAV_MAX_WIDTH&&s.mainNavList.classList.remove("hidden")},addDesktopListeners:function(){a.forEach(function(n){n.addEventListener("mouseover",g),n.addEventListener("mouseout",w),n.addEventListener("focusin",f)})},addMobileListeners:function(){a.forEach(function(n){n.addEventListener("mousedown",_),n.addEventListener("focusin",L)})},removeDesktopListeners:function(){a.forEach(function(n){n.removeEventListener("mouseover",g),n.removeEventListener("mouseout",w),n.removeEventListener("focusin",f)})},removeMobileListeners:function(){a.forEach(function(n){n.removeEventListener("mousedown",_),n.removeEventListener("focusin",L)})},onItemMouseoutDesk:w}}();