"use strict";!function(){var n=document.querySelector("body"),e={navToggle:"nav-toggle--closed",mainNav:"main-nav--closed",mainNavList:"main-nav__list--closed"},i={navToggle:"nav-toggle--opened",mainNav:"main-nav--opened",mainNavList:"main-nav__list--opened"},t=document.querySelector(".main-nav"),s={mainNav:t,navToggle:t.querySelector(".nav-toggle"),mainNavList:t.querySelector(".main-nav__list")},a="nesting-list-animation-desk",o="nesting-list-animation-mobile",l="nesting-link-animation",c="nesting-link-animation-close",r="nesting-list-animation-mobile-close",v=Array.from(s.mainNavList.querySelectorAll(".main-nav__item")),m=Array.from(s.mainNavList.querySelectorAll(".main-nav__nesting-list")),d=function(n,e,i){var t=Array.from(n.classList),a="";t.forEach(function(n){n.includes(i)&&(a=n)}),a&&n.classList.remove(a),n!==s.navToggle||n.classList.contains("nav-toggle--with-js")||n.classList.add("nav-toggle--with-js"),n.classList.add(e)},u=function(){for(var i in window.setTimeout(function(){s.mainNavList.classList.add("hidden")},450),y(m,o),s)s.hasOwnProperty(i)&&d(s[i],e[i],"--opened");n.removeAttribute("style")},g=function(){for(var e in s)s.hasOwnProperty(e)&&d(s[e],i[e],"--closed");s.mainNav.focus(),n.style="overflow-y: hidden",s.mainNavList.classList.remove("hidden")},f=function(){window.navToggle.toggleElement(window.navToggle.checkIsElemClosed(s.navToggle,"nav-toggle--closed"),g,u,s.navToggle)},L=function(n,e){var i=Array.from(n.children),t=Array.from(n.querySelectorAll("."+l)),s=i.concat(t);s.push(n),s.forEach(function(n){switch(!0){case n.classList.contains(l):n.classList.remove(l);break;case n.classList.contains(e):n.classList.remove(e)}})},y=function(n,e){n.forEach(function(n){n.classList.contains("visually-hidden")||(n.classList.add("visually-hidden"),L(n,e))})},h=function(n,e){if(n.currentTarget.classList.contains("main-nav__item--list")){var i=n.currentTarget.querySelector(".main-nav__nesting-list"),t=Array.from(i.querySelectorAll(".main-nav__nesting-item")),s=Array.from(i.querySelectorAll(".main-nav__nesting-link")),a=t.concat(s);a.push(i),i.classList.remove("visually-hidden"),i.classList.remove(r),a.forEach(function(n){n.classList.contains("main-nav__nesting-link")?(n.classList.remove(c),n.classList.add(l)):n.classList.add(e)})}},E=function(n,e,i){var t,s,a,v,m;n.target.nextElementSibling&&(n.target.nextElementSibling.classList.contains("visually-hidden")?h(n,i):(t=n.target.nextElementSibling,s=o,a=r,v=Array.from(t.querySelectorAll(".main-nav__nesting-link")),m=Array.from(t.querySelectorAll(".main-nav__nesting-item")),v.concat(m).forEach(function(n){n.classList.remove(l),n.classList.add(c)}),t.classList.add(a),L(t,s),window.setTimeout(function(){t.classList.add("visually-hidden")},600)))},_=function(n){y(m,a),document.activeElement.blur(),h(n,a)},A=function(n){E(n,0,o)},w=function(n){y(m,a),h(n,a)},S=function(n){h(n,o)},T=function(){y(m,a)};s.navToggle.addEventListener("click",function(){f()}),window.mainNav={toggleNav:f,toggleNavFromResize:function(){s.navToggle.classList.contains("nav-toggle--closed")&&s.navToggle.classList.remove("nav-toggle--closed"),f()},addDesktopListeners:function(){v.forEach(function(n){n.addEventListener("mouseover",_),n.addEventListener("mouseout",T),n.addEventListener("focusin",w)})},addMobileListeners:function(){v.forEach(function(n){n.addEventListener("click",A),n.addEventListener("focusin",S)})},removeDesktopListeners:function(){v.forEach(function(n){n.removeEventListener("mouseover",_),n.removeEventListener("mouseout",T),n.removeEventListener("focusin",w)})},removeMobileListeners:function(){v.forEach(function(n){n.removeEventListener("click",A),n.removeEventListener("focusin",S)})},onItemMouseoutDesk:T}}();