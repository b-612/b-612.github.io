{"version":3,"sources":["directions.js"],"names":["IMG_FORMATS","$section","$","$directionCardTemp","parseHTML","html","InquiryParam","URL","ON_SUCCESS","makeItems","window","items","ON_ERROR","removeSection","MAKE_ITEM","directionData","DOMElem","dataSchedule","scheduleList","$directionCard","clone","$DirectionParam","TITLE","find","SCHEDULE_LIST","SCHEDULE_ITEM","TEACHER_NAME","IMAGE","LINK","setImgAttr","image","title","before","makeItemImage","util","deviceVersion","makeText","schedule","empty","forEach","it","days","join","scheduleItem","text","startTime","endTime","append","teacher","makeHref","link","SECTION","LIST_CLASS","MAKE_SLIDER","backend","getItems"],"mappings":"AAAA,cAEA,WACE,IAAIA,EAAc,CAAC,MAAO,QAEtBC,EAAWC,EAAE,eACbC,EAAqBD,EAAEE,UAAUF,EAAE,cAAcG,QAgCjDC,EAAe,CACjBC,IAnCmB,oDAoCnBC,WAAY,CACVC,UAAWC,OAAOC,MAAMF,WAE1BG,SAAUF,OAAOC,MAAME,cACvBC,UA1BkB,SAAuBC,GACzC,IAXiDC,EAASC,EAAcC,EAWpEC,EAAiBjB,EAAEC,GAAoBiB,QACvCC,EAAkB,CACpBC,MAAOpB,EAAEiB,GAAgBI,KAAK,qBAC9BC,cAAetB,EAAEiB,GAAgBI,KAAK,wBACtCE,cAAevB,EAAEiB,GAAgBI,KAAK,6BACtCG,aAAcxB,EAAEiB,GAAgBI,KAAK,4BACrCI,MAAOzB,EAAEiB,GAAgBI,KAAK,qBAC9BK,KAAM1B,EAAEiB,GAAgBI,KAAK,qBAQ/B,OANAb,OAAOC,MAAMkB,WAAWR,EAAgBM,MAAOZ,EAAce,MAAOf,EAAcgB,OAClFV,EAAgBO,KAAKI,OAAOtB,OAAOC,MAAMsB,cAAcZ,EAAgBM,MAAOZ,EAAce,MAAOpB,OAAOwB,KAAKC,cAAenC,IAC9HU,OAAOC,MAAMyB,SAASf,EAAgBC,MAAOP,EAAcgB,OAtBVf,EAuB/BK,EAAgBI,cAvBwBR,EAuBTF,EAAcsB,SAvBSnB,EAuBCG,EAAgBG,cAtBzFtB,EAAEgB,GAAcoB,QAChBrB,EAAasB,QAAQ,SAAUC,GAC7B,IAAIC,EAAOD,EAAGC,KAAKC,KAAK,MACpBC,EAAe3B,EAAQI,QAC3BuB,EAAaC,KAAKH,EAAO,QAAUD,EAAGK,UAAY,OAASL,EAAGM,SAC9D5B,EAAa6B,OAAOJ,KAkBtBjC,OAAOC,MAAMyB,SAASf,EAAgBK,aAAcX,EAAciC,SAClEtC,OAAOC,MAAMsC,SAAS5B,EAAgBO,KAAMb,EAAcmC,MACnDhD,EAAEiB,GAAgB,IAWzBgC,QAASlD,EACTmD,WAAY,mBACZC,YAAa,MAEf3C,OAAO4C,QAAQC,SAASjD,GA/C1B","sourcesContent":["'use strict';\n\n(function () {\n  const IMG_FORMATS = ['jpg', 'webp'];\n  const DIRECTIONS_URL = 'https://b-612.github.io/json/yoga/directions.json';\n\n  const $section = $('.directions');\n  const $directionCardTemp = $.parseHTML($('#direction').html());\n\n  const makeScheduleItems = (DOMElem, dataSchedule, scheduleList) => {\n    $(scheduleList).empty();\n\n    dataSchedule.forEach((it) => {\n      const days = it.days.join(', ');\n\n      const scheduleItem = DOMElem.clone();\n      scheduleItem.text(days + ' – с ' + it.startTime + ' до ' + it.endTime);\n      scheduleList.append(scheduleItem);\n    });\n  };\n\n  const makeDirection = (directionData) => {\n    const $directionCard = $($directionCardTemp).clone();\n    const $DirectionParam = {\n      TITLE: $($directionCard).find('.direction__title'),\n      SCHEDULE_LIST: $($directionCard).find('.direction__schedule'),\n      SCHEDULE_ITEM: $($directionCard).find('.direction__schedule-item'),\n      TEACHER_NAME: $($directionCard).find('.direction__teacher-name'),\n      IMAGE: $($directionCard).find('.direction__image'),\n      LINK: $($directionCard).find('.direction__link')\n    };\n\n    window.items.setImgAttr($DirectionParam.IMAGE, directionData.image, directionData.title);\n    $DirectionParam.LINK.before(window.items.makeItemImage($DirectionParam.IMAGE, directionData.image, window.util.deviceVersion, IMG_FORMATS));\n    window.items.makeText($DirectionParam.TITLE, directionData.title);\n    makeScheduleItems($DirectionParam.SCHEDULE_ITEM, directionData.schedule, $DirectionParam.SCHEDULE_LIST);\n    window.items.makeText($DirectionParam.TEACHER_NAME, directionData.teacher);\n    window.items.makeHref($DirectionParam.LINK, directionData.link);\n\n    return $($directionCard)[0];\n  };\n\n  // url, onSuccess, onError, makeItem, section, listClass, makeSlider\n\n  const InquiryParam = {\n    URL: DIRECTIONS_URL,\n    ON_SUCCESS: {\n      makeItems: window.items.makeItems\n    },\n    ON_ERROR: window.items.removeSection,\n    MAKE_ITEM: makeDirection,\n    SECTION: $section,\n    LIST_CLASS: 'directions__list',\n    MAKE_SLIDER: null\n  };\n\n  window.backend.getItems(InquiryParam);\n})();\n"],"file":"directions.min.js"}