{"version":3,"sources":["directions.js"],"names":["IMG_FORMATS","$section","$","$directionCardTemp","parseHTML","html","makeDirection","directionData","DOMElem","dataSchedule","scheduleList","$directionCard","clone","$DirectionParam","TITLE","find","SCHEDULE_LIST","SCHEDULE_ITEM","TEACHER_NAME","IMAGE","LINK","window","items","setImgAttr","image","title","before","makeItemImage","util","deviceVersion","makeText","schedule","empty","forEach","it","days","join","scheduleItem","text","startTime","endTime","append","teacher","makeHref","link","InquiryParam","URL","ON_SUCCESS","makeItems","ON_ERROR","removeSection","MAKE_ITEM","SECTION","LIST_CLASS","MAKE_SLIDER","backend","getItems","directions"],"mappings":"AAAA,cAEA,WACE,IAAIA,EAAc,CAAC,MAAO,QAEtBC,EAAWC,EAAE,eACbC,EAAqBD,EAAEE,UAAUF,EAAE,cAAcG,QAYjDC,EAAgB,SAAuBC,GACzC,IAXiDC,EAASC,EAAcC,EAWpEC,EAAiBT,EAAEC,GAAoBS,QACvCC,EAAkB,CACpBC,MAAOZ,EAAES,GAAgBI,KAAK,qBAC9BC,cAAed,EAAES,GAAgBI,KAAK,wBACtCE,cAAef,EAAES,GAAgBI,KAAK,6BACtCG,aAAchB,EAAES,GAAgBI,KAAK,4BACrCI,MAAOjB,EAAES,GAAgBI,KAAK,qBAC9BK,KAAMlB,EAAES,GAAgBI,KAAK,qBAQ/B,OANAM,OAAOC,MAAMC,WAAWV,EAAgBM,MAAOZ,EAAciB,MAAOjB,EAAckB,OAClFZ,EAAgBO,KAAKM,OAAOL,OAAOC,MAAMK,cAAcd,EAAgBM,MAAOZ,EAAciB,MAAOH,OAAOO,KAAKC,cAAe7B,IAC9HqB,OAAOC,MAAMQ,SAASjB,EAAgBC,MAAOP,EAAckB,OAtBVjB,EAuB/BK,EAAgBI,cAvBwBR,EAuBTF,EAAcwB,SAvBSrB,EAuBCG,EAAgBG,cAtBzFd,EAAEQ,GAAcsB,QAChBvB,EAAawB,QAAQ,SAAUC,GAC7B,IAAIC,EAAOD,EAAGC,KAAKC,KAAK,MACpBC,EAAe7B,EAAQI,QAC3ByB,EAAaC,KAAKH,EAAO,QAAUD,EAAGK,UAAY,OAASL,EAAGM,SAC9D9B,EAAa+B,OAAOJ,KAkBtBhB,OAAOC,MAAMQ,SAASjB,EAAgBK,aAAcX,EAAcmC,SAClErB,OAAOC,MAAMqB,SAAS9B,EAAgBO,KAAMb,EAAcqC,MACnD1C,EAAES,GAAgB,IAGvBkC,EAAe,CACjBC,IAlCmB,oDAmCnBC,WAAY,CACVC,UAAW3B,OAAOC,MAAM0B,WAE1BC,SAAU5B,OAAOC,MAAM4B,cACvBC,UAAW7C,EACX8C,QAASnD,EACToD,WAAY,mBACZC,YAAa,MAEfjC,OAAOkC,QAAQC,SAASX,GACxBxB,OAAOoC,WAAa,CAClBnD,cAAeA,GAhDnB","sourcesContent":["'use strict';\n\n(function () {\n  const IMG_FORMATS = ['jpg', 'webp'];\n  const DIRECTIONS_URL = 'https://b-612.github.io/json/yoga/directions.json';\n\n  const $section = $('.directions');\n  const $directionCardTemp = $.parseHTML($('#direction').html());\n\n  const makeScheduleItems = (DOMElem, dataSchedule, scheduleList) => {\n    $(scheduleList).empty();\n\n    dataSchedule.forEach((it) => {\n      const days = it.days.join(', ');\n\n      const scheduleItem = DOMElem.clone();\n      scheduleItem.text(days + ' – с ' + it.startTime + ' до ' + it.endTime);\n      scheduleList.append(scheduleItem);\n    });\n  };\n\n  const makeDirection = (directionData) => {\n    const $directionCard = $($directionCardTemp).clone();\n    const $DirectionParam = {\n      TITLE: $($directionCard).find('.direction__title'),\n      SCHEDULE_LIST: $($directionCard).find('.direction__schedule'),\n      SCHEDULE_ITEM: $($directionCard).find('.direction__schedule-item'),\n      TEACHER_NAME: $($directionCard).find('.direction__teacher-name'),\n      IMAGE: $($directionCard).find('.direction__image'),\n      LINK: $($directionCard).find('.direction__link')\n    };\n\n    window.items.setImgAttr($DirectionParam.IMAGE, directionData.image, directionData.title);\n    $DirectionParam.LINK.before(window.items.makeItemImage($DirectionParam.IMAGE, directionData.image, window.util.deviceVersion, IMG_FORMATS));\n    window.items.makeText($DirectionParam.TITLE, directionData.title);\n    makeScheduleItems($DirectionParam.SCHEDULE_ITEM, directionData.schedule, $DirectionParam.SCHEDULE_LIST);\n    window.items.makeText($DirectionParam.TEACHER_NAME, directionData.teacher);\n    window.items.makeHref($DirectionParam.LINK, directionData.link);\n\n    return $($directionCard)[0];\n  };\n\n  const InquiryParam = {\n    URL: DIRECTIONS_URL,\n    ON_SUCCESS: {\n      makeItems: window.items.makeItems\n    },\n    ON_ERROR: window.items.removeSection,\n    MAKE_ITEM: makeDirection,\n    SECTION: $section,\n    LIST_CLASS: 'directions__list',\n    MAKE_SLIDER: null\n  };\n\n  window.backend.getItems(InquiryParam);\n\n  window.directions = {\n    makeDirection: makeDirection\n  }\n})();\n"],"file":"directions.min.js"}