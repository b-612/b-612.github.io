{"version":3,"sources":["team.js"],"names":["TEAM_MEMBERS_URL","section","$","$slider","$teamCardTemp","parseHTML","html","makeDescription","descriptionData","element","description","forEach","current","nextElem","clone","text","push","Array","from","makeAvatar","imageElement","imageData","attr","parent","find","makeSocial","socialElem","socialData","socialName","sectionName","authorName","socialItem","svg","title","remove","split","counter","appendChild","setTimeout","elemClone","empty","append","resetSocialCounter","makeTeamMember","teamMemberData","$memberCard","$memberParam","MEMBER_NAME","MEMBER_PRACTICE","MEMBER_IMAGE","LINK_VK","LINK_TWITTER","DESC_TITLE","EXPERIENCE_TIME","DESCRIPTION","window","items","makeText","name","practice","image","vk","twitter","experienceTime","replaceClonedSocials","slider","socialIconClass","$oldAttr","each","i","makeTeamSlider","slick","dots","prevArrow","nextArrow","infinite","accessibility","zIndex","speed","slidesToShow","slidesToScroll","responsive","breakpoint","util","screenWidth","MOB_MAX","settings","MOB_MID","draggable","InquiryParam","URL","ON_SUCCESS","makeItems","ON_ERROR","removeSection","MAKE_ITEM","SECTION","LIST_CLASS","MAKE_SLIDER","backend","getItems","team"],"mappings":"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","sourcesContent":["'use strict';\n\n(function () {\n  const TEAM_MEMBERS_URL = 'https://b-612.github.io/json/yoga/team.json';\n\n  const section = $('.team');\n  const $slider = $('.members-slider');\n  const $teamCardTemp = $.parseHTML($('#team-member').html());\n\n  const makeDescription = (descriptionData, element) => {\n    const description = [];\n\n    descriptionData.forEach((current) => {\n      const nextElem = $(element).clone();\n      nextElem.text(current);\n      description.push(nextElem);\n    });\n\n    return Array.from(description);\n  };\n\n  const makeAvatar = (imageElement, imageData) => {\n    imageElement.attr('src', `img/${imageData}-mob@1x.jpg`);\n    imageElement.attr('srcset', `img/${imageData}-mob@2x.jpg 2x`);\n\n    $(imageElement.parent())\n      .find('source[media=\"(min-width: 768px)\"][type != \"image/webp\"]')\n      .attr(\n        'srcset',\n        `img/${imageData}-tablet@1x.jpg 1x, img/${imageData}-tablet@2x.jpg 2x`\n      );\n\n    $(imageElement.parent())\n      .find('source[media=\"(min-width: 1300px)\"][type != \"image/webp\"]')\n      .attr(\n        'srcset',\n        `img/${imageData}-desktop@1x.jpg 1x, img/${imageData}-desktop@2x.jpg 2x`\n      );\n\n    $(imageElement.parent())\n      .find('source[type=\"image/webp\"][media != \"(min-width: 768px)\"][media != \"(min-width: 1300px)\"]')\n      .attr(\n        'srcset',\n        `img/${imageData}-mob@1x.webp 1x, img/${imageData}-mob@2x.webp 2x`\n      );\n\n    $(imageElement.parent())\n      .find('source[media=\"(min-width: 768px)\"][type = \"image/webp\"]')\n      .attr(\n        'srcset',\n        `img/${imageData}-tablet@1x.webp 1x, img/${imageData}-tablet@2x.webp 2x`\n      );\n\n    $(imageElement.parent())\n      .find('source[media=\"(min-width: 1300px)\"][type = \"image/webp\"]')\n      .attr(\n        'srcset',\n        `img/${imageData}-desktop@1x.webp 1x, img/${imageData}-desktop@2x.webp 2x`\n      );\n  };\n\n  const makeSocial = (socialElem, socialData, socialName, sectionName, authorName) => {\n    const socialItem = socialElem.parent();\n    const svg = socialElem.find('svg');\n    const title = svg.find('title');\n\n    socialElem.remove();\n    socialElem.attr('href', socialData);\n\n    svg.attr(\n      'aria-labelledby',\n      `${sectionName}heading-${socialElem.find('use').attr('xlink:href').split('#')[1]}-user-${makeSocial.counter}`\n    );\n\n    title.text(`${authorName} ${socialName}`);\n\n    socialElem.find('title')\n      .attr(\n        'id',\n        `${sectionName}heading-${socialElem.find('use').attr('xlink:href').split('#')[1]}-user-${makeSocial.counter}`\n      );\n\n    $(socialItem)[0].appendChild($(socialElem)[0]);\n\n    setTimeout(() => {\n      const elemClone = socialElem.clone();\n      socialItem.empty();\n      socialItem .append(elemClone);\n    }, 0);\n\n  };\n\n  const resetSocialCounter = () => {\n    makeSocial.counter = 1;\n  };\n\n  resetSocialCounter();\n\n  const makeTeamMember = (teamMemberData) => {\n    const $memberCard = $($teamCardTemp).clone();\n    const $memberParam = {\n      MEMBER_NAME: $($memberCard).find('.team-member__name'),\n      MEMBER_PRACTICE: $($memberCard).find('.team-member__practice'),\n      MEMBER_IMAGE: $($memberCard).find('.team-member__avatar'),\n      LINK_VK: $($memberCard).find('.team-member__social-link--vk'),\n      LINK_TWITTER: $($memberCard).find('.team-member__social-link--twitter'),\n      DESC_TITLE: $($memberCard).find('.team-member__description-title'),\n      EXPERIENCE_TIME: $($memberCard).find('.team-member__experience-time'),\n      DESCRIPTION: $($memberCard).find('.team-member__description')\n    };\n\n    window.items.makeText($memberParam.MEMBER_NAME, teamMemberData.name);\n    window.items.makeText($memberParam.MEMBER_PRACTICE, teamMemberData.practice);\n    makeAvatar($memberParam.MEMBER_IMAGE, teamMemberData.image);\n    makeSocial($memberParam.LINK_VK, teamMemberData.vk, 'Вконтакте', 'team', teamMemberData.name);\n    makeSocial($memberParam.LINK_TWITTER, teamMemberData.twitter, 'в Твиттер', 'team', teamMemberData.name);\n    makeSocial.counter++;\n    window.items.makeText($memberParam.DESC_TITLE, teamMemberData.name);\n    window.items.makeText($memberParam.EXPERIENCE_TIME, teamMemberData.experienceTime);\n    $($memberCard).find('.team-member__description').remove();\n\n    makeDescription(teamMemberData.description, $memberParam.DESCRIPTION[0])\n      .forEach((current) => {\n        $memberCard.find('.team-member__description-wrapper').append(current);\n    });\n\n    return $($memberCard)[0];\n  };\n\n  const replaceClonedSocials = (sectionName, slider, socialIconClass) => {\n    const $oldAttr = sectionName + 'heading';\n\n    slider.find('.slick-cloned')\n      .find('.' + socialIconClass)\n      .each(function (i) {\n        $(this).attr('aria-labelledby', $oldAttr +  '-' + i);\n        $(this).find('title').attr('id', $oldAttr +  '-' + i);\n      })\n  };\n\n  const makeTeamSlider = () => {\n    $('.members-slider').slick({\n      dots: false,\n      prevArrow: '<button class=\"members-slider__btn members-slider__btn--prev slider-arrow\" type=\"button\"><span class=\"visually-hidden\">Предыдущий участник</span></button>',\n      nextArrow: '<button class=\"members-slider__btn members-slider__btn--next slider-arrow\" type=\"button\"><span class=\"visually-hidden\">Следующий участник</span></button>',\n      infinite: true,\n      accessibility: true,\n      zIndex: 1000,\n      speed: 300,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      responsive: [\n        {\n          breakpoint: window.util.screenWidth.MOB_MAX,\n          settings: {\n            slidesToShow: 2,\n            slidesToScroll: 2,\n            infinite: true,\n            dots: false\n          }\n        },\n        {\n          breakpoint: window.util.screenWidth.MOB_MID,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            infinite: true,\n            dots: false,\n            draggable: true\n          }\n        }\n      ]\n    });\n\n    setTimeout(() => {\n      replaceClonedSocials('team', $slider, 'team-member__social-icon');\n    }, 0);\n  };\n\n  const InquiryParam = {\n    URL: TEAM_MEMBERS_URL,\n    ON_SUCCESS: {\n      makeItems: window.items.makeItems\n    },\n    ON_ERROR: window.items.removeSection,\n    MAKE_ITEM: makeTeamMember,\n    SECTION: section,\n    LIST_CLASS: 'members-slider',\n    MAKE_SLIDER: makeTeamSlider\n  };\n\n  window.backend.getItems(InquiryParam);\n\n  window.team = {\n    makeDescription: makeDescription,\n    makeSocial: makeSocial,\n    resetSocialCounter: resetSocialCounter,\n    replaceClonedSocials: replaceClonedSocials\n  }\n})();\n"],"file":"team.js"}