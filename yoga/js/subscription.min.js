"use strict";!function(){var i=$(".subscriptions"),s=$.parseHTML($("#subscription").html()),t=$(".subscriptions__time-btn"),n=window.util.debounce(function(i){$(i.currentTarget).hasClass("subscription")&&($(".subscription").not($(i.currentTarget)).removeClass("subscription--best").find(".subscription__link").hide(),$(i.currentTarget).addClass("subscription--best").find(".subscription__link").slideDown(300,function(){$(this).show()}))},200),e={URL:"https://b-612.github.io/json/yoga/subscriptionOneMonth.json",ON_SUCCESS:{makeItems:window.items.makeItems,setTheBest:function(){$(".subscription:eq(1)").addClass("subscription--best"),screen.width>=window.util.screenWidth.TAB_MIN&&$(".subscription").not(".subscription:eq(1)").find(".subscription__link").hide()},setItemsListeners:function(){screen.width>=window.util.screenWidth.TAB_MIN&&$(".subscription").on("mouseenter",n).focus(n)},setListHeight:function(){var i=$(".subscriptions__list").height();$(".subscriptions__list").css("min-height",i)}},ON_ERROR:window.items.removeSection,MAKE_ITEM:function(i){var t=$(s).clone(),n={TITLE:$(t).find(".subscription__title"),TEXT:$(t).find(".subscription__description"),TIME:$(t).find(".subscription__time"),PRICE:$(t).find(".subscription__price-number"),ORDER_LINK:$(t).find(".subscription__link")};return window.items.makeText(n.TITLE,i.title),function(i,s,t){i.isTimeLimit?t.text("с "+i.startTime+" до "+i.endTime):(s.text("Посещение не ограничено по времени"),t.remove())}(i,n.TEXT,n.TIME),window.items.makeText(n.PRICE,i.price),window.items.makeHref(n.ORDER_LINK,i.orderLink),$(t)[0]},SECTION:i,LIST_CLASS:"subscriptions__list",MAKE_SLIDER:null},o=function(){$(".subscriptions__list").css("min-height",""),t[0].click()};t.click(function(i){i.preventDefault(),t.removeClass("subscriptions__time-btn--current"),$(i.target).addClass("subscriptions__time-btn--current"),function(i){switch(!0){case $(i.target).hasClass("subscriptions__time-btn--one-month"):e.URL="https://b-612.github.io/json/yoga/subscriptionOneMonth.json",window.backend.getItems(e);break;case $(i.target).hasClass("subscriptions__time-btn--six-months"):e.URL="https://b-612.github.io/json/yoga/subscriptionSixMonths.json",window.backend.getItems(e);break;case $(i.target).hasClass("subscriptions__time-btn--year"):e.URL="https://b-612.github.io/json/yoga/subscriptionYear.json",window.backend.getItems(e)}window.subscriptions.onTimeBtnClickCounter++}(i)}),$(window).resize(function(){switch(!0){case screen.width>=window.util.screenWidth.TAB_MIN&&window.subscriptions.lastWindowWidth<window.util.screenWidth.TAB_MIN:case screen.width<window.util.screenWidth.TAB_MIN&&window.subscriptions.lastWindowWidth>=window.util.screenWidth.TAB_MIN:case screen.width<=window.util.screenWidth.TAB_MAX&&window.subscriptions.lastWindowWidth>window.util.screenWidth.TAB_MAX&&screen.width>=window.util.screenWidth.TAB_MIN:case screen.width>window.util.screenWidth.TAB_MAX&&window.subscriptions.lastWindowWidth<=window.util.screenWidth.TAB_MAX:o()}window.subscriptions.lastWindowWidth=screen.width}),window.subscriptions={onTimeBtnClickCounter:0,lastWindowWidth:screen.width},t[0].click()}();
//# sourceMappingURL=subscription.min.js.map
