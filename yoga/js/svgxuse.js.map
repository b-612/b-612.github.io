{"version":3,"sources":["svgxuse.js"],"names":["window","addEventListener","cache","Object","create","checkUseElems","tid","debouncedCheck","clearTimeout","setTimeout","unobserveChanges","observeChanges","observer","MutationObserver","observe","document","documentElement","childList","subtree","attributes","disconnect","removeEventListener","ignore","createRequest","url","getOrigin","loc","a","protocol","undefined","createElement","href","replace","host","Request","origin","origin2","XMLHttpRequest","location","withCredentials","XDomainRequest","xlinkNS","base","bcr","fallback","hash","i","inProgressCount","isHidden","uses","xhr","observeIfDone","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","setAttribute","onloadFunc","body","x","svg","onload","innerHTML","responseText","getElementsByTagName","style","position","width","height","overflow","insertBefore","firstChild","onErrorTimeout","onerror","ontimeout","length","getBoundingClientRect","getAttribute","getAttributeNS","split","left","right","top","bottom","getElementById","open","send","abort","winLoad","readyState"],"mappings":"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","sourcesContent":["/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n  \"use strict\";\n  if (typeof window !== \"undefined\" && window.addEventListener) {\n    var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n    var checkUseElems;\n    var tid; // timeout id\n    var debouncedCheck = function () {\n      clearTimeout(tid);\n      tid = setTimeout(checkUseElems, 100);\n    };\n    var unobserveChanges = function () {\n      return;\n    };\n    var observeChanges = function () {\n      var observer;\n      window.addEventListener(\"resize\", debouncedCheck, false);\n      window.addEventListener(\"orientationchange\", debouncedCheck, false);\n      if (window.MutationObserver) {\n        observer = new MutationObserver(debouncedCheck);\n        observer.observe(document.documentElement, {\n          childList: true,\n          subtree: true,\n          attributes: true\n        });\n        unobserveChanges = function () {\n          try {\n            observer.disconnect();\n            window.removeEventListener(\"resize\", debouncedCheck, false);\n            window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n          } catch (ignore) {}\n        };\n      } else {\n        document.documentElement.addEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n        unobserveChanges = function () {\n          document.documentElement.removeEventListener(\"DOMSubtreeModified\", debouncedCheck, false);\n          window.removeEventListener(\"resize\", debouncedCheck, false);\n          window.removeEventListener(\"orientationchange\", debouncedCheck, false);\n        };\n      }\n    };\n    var createRequest = function (url) {\n      // In IE 9, cross origin requests can only be sent using XDomainRequest.\n      // XDomainRequest would fail if CORS headers are not set.\n      // Therefore, XDomainRequest should only be used with cross origin requests.\n      function getOrigin(loc) {\n        var a;\n        if (loc.protocol !== undefined) {\n          a = loc;\n        } else {\n          a = document.createElement(\"a\");\n          a.href = loc;\n        }\n        return a.protocol.replace(/:/g, \"\") + a.host;\n      }\n      var Request;\n      var origin;\n      var origin2;\n      if (window.XMLHttpRequest) {\n        Request = new XMLHttpRequest();\n        origin = getOrigin(location);\n        origin2 = getOrigin(url);\n        if (Request.withCredentials === undefined && origin2 !== \"\" && origin2 !== origin) {\n          Request = XDomainRequest || undefined;\n        } else {\n          Request = XMLHttpRequest;\n        }\n      }\n      return Request;\n    };\n    var xlinkNS = \"http://www.w3.org/1999/xlink\";\n    checkUseElems = function () {\n      var base;\n      var bcr;\n      var fallback = \"\"; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n      var hash;\n      var href;\n      var i;\n      var inProgressCount = 0;\n      var isHidden;\n      var Request;\n      var url;\n      var uses;\n      var xhr;\n      function observeIfDone() {\n        // If done with making changes, start watching for chagnes in DOM again\n        inProgressCount -= 1;\n        if (inProgressCount === 0) { // if all xhrs were resolved\n          unobserveChanges(); // make sure to remove old handlers\n          observeChanges(); // watch for changes to DOM\n        }\n      }\n      function attrUpdateFunc(spec) {\n        return function () {\n          if (cache[spec.base] !== true) {\n            spec.useEl.setAttributeNS(xlinkNS, \"xlink:href\", \"#\" + spec.hash);\n            if (spec.useEl.hasAttribute(\"href\")) {\n              spec.useEl.setAttribute(\"href\", \"#\" + spec.hash);\n            }\n          }\n        };\n      }\n      function onloadFunc(xhr) {\n        return function () {\n          var body = document.body;\n          var x = document.createElement(\"x\");\n          var svg;\n          xhr.onload = null;\n          x.innerHTML = xhr.responseText;\n          svg = x.getElementsByTagName(\"svg\")[0];\n          if (svg) {\n            svg.setAttribute(\"aria-hidden\", \"true\");\n            svg.style.position = \"absolute\";\n            svg.style.width = 0;\n            svg.style.height = 0;\n            svg.style.overflow = \"hidden\";\n            body.insertBefore(svg, body.firstChild);\n          }\n          observeIfDone();\n        };\n      }\n      function onErrorTimeout(xhr) {\n        return function () {\n          xhr.onerror = null;\n          xhr.ontimeout = null;\n          observeIfDone();\n        };\n      }\n      unobserveChanges(); // stop watching for changes to DOM\n      // find all use elements\n      uses = document.getElementsByTagName(\"use\");\n      for (i = 0; i < uses.length; i += 1) {\n        try {\n          bcr = uses[i].getBoundingClientRect();\n        } catch (ignore) {\n          // failed to get bounding rectangle of the use element\n          bcr = false;\n        }\n        href = uses[i].getAttribute(\"href\")\n          || uses[i].getAttributeNS(xlinkNS, \"href\")\n          || uses[i].getAttribute(\"xlink:href\");\n        if (href && href.split) {\n          url = href.split(\"#\");\n        } else {\n          url = [\"\", \"\"];\n        }\n        base = url[0];\n        hash = url[1];\n        isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n        if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n          // the use element is empty\n          // if there is a reference to an external SVG, try to fetch it\n          // use the optional fallback URL if there is no reference to an external SVG\n          if (fallback && !base.length && hash && !document.getElementById(hash)) {\n            base = fallback;\n          }\n          if (uses[i].hasAttribute(\"href\")) {\n            uses[i].setAttributeNS(xlinkNS, \"xlink:href\", href);\n          }\n          if (base.length) {\n            // schedule updating xlink:href\n            xhr = cache[base];\n            if (xhr !== true) {\n              // true signifies that prepending the SVG was not required\n              setTimeout(attrUpdateFunc({\n                useEl: uses[i],\n                base: base,\n                hash: hash\n              }), 0);\n            }\n            if (xhr === undefined) {\n              Request = createRequest(base);\n              if (Request !== undefined) {\n                xhr = new Request();\n                cache[base] = xhr;\n                xhr.onload = onloadFunc(xhr);\n                xhr.onerror = onErrorTimeout(xhr);\n                xhr.ontimeout = onErrorTimeout(xhr);\n                xhr.open(\"GET\", base);\n                xhr.send();\n                inProgressCount += 1;\n              }\n            }\n          }\n        } else {\n          if (!isHidden) {\n            if (cache[base] === undefined) {\n              // remember this URL if the use element was not empty and no request was sent\n              cache[base] = true;\n            } else if (cache[base].onload) {\n              // if it turns out that prepending the SVG is not necessary,\n              // abort the in-progress xhr.\n              cache[base].abort();\n              delete cache[base].onload;\n              cache[base] = true;\n            }\n          } else if (base.length && cache[base]) {\n            setTimeout(attrUpdateFunc({\n              useEl: uses[i],\n              base: base,\n              hash: hash\n            }), 0);\n          }\n        }\n      }\n      uses = \"\";\n      inProgressCount += 1;\n      observeIfDone();\n    };\n    var winLoad;\n    winLoad = function () {\n      window.removeEventListener(\"load\", winLoad, false); // to prevent memory leaks\n      tid = setTimeout(checkUseElems, 0);\n    };\n    if (document.readyState !== \"complete\") {\n      // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n      window.addEventListener(\"load\", winLoad, false);\n    } else {\n      // No need to add a listener if the document is already loaded, initialize immediately.\n      winLoad();\n    }\n  }\n}());\n"],"file":"svgxuse.js"}