{"version":3,"sources":["main-nav.js"],"names":["$body","$","mainNav","find","navList","navToggle","headerTop","$navItems","removeClass","onToggleClick","NAV_TIMEOUT","NAV_OPENED_MARGIN","topHeight","height","css","toggleClass","fadeIn","isClicked","removeAttr","fadeOut","setTimeout","screen","width","window","util","screenWidth","TAB_MIN","animate","left","offset","TAB_MAX","howScroll","scrollTop","off","overflow","position","top","onNavLinkClick","evt","SCROLL_DURATION","OFFSET_TOP_PLUS","preventDefault","$title","target","attr","focus","blur","click"],"mappings":"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","sourcesContent":["'use strict';\n\n(function () {\n  const $body = $('body');\n  const mainNav = $body.find('.nav');\n  const navList = mainNav.find('.nav__list');\n  const navToggle = mainNav.find('.nav__toggle');\n  const headerTop = $body.find('.page-header__top');\n  const $navItems = $('.nav__link');\n\n  mainNav.removeClass('nav--no-js');\n\n  const onToggleClick = () => {\n    const NAV_TIMEOUT = 500;\n    const NAV_OPENED_MARGIN = 20;\n\n    const topHeight = headerTop.height();\n\n    headerTop.css('min-height', topHeight);\n    mainNav.toggleClass('nav--opened');\n    $body.toggleClass('body-anim-on').css('overflow-x', 'hidden');\n    navList.toggleClass('nav__list--animation-on')\n      .fadeIn(NAV_TIMEOUT, function () {\n        $(this).css('display', 'block');\n    });\n\n    if (onToggleClick.isClicked) {\n      headerTop.css('min-height', '');\n      $body.toggleClass('body-anim-off')\n        .css('overflow-x', '')\n        .removeAttr('style');\n      navList.toggleClass('nav__list--animation-off')\n        .fadeOut(NAV_TIMEOUT, function () {\n          $(this).css('display', '');\n      });\n\n      setTimeout(function () {\n        $body.removeClass('body-anim-off');\n        navList.removeClass('nav__list--animation-off');\n        $body.removeAttr('class');\n        onToggleClick.isClicked = false;\n      }, NAV_TIMEOUT);\n    }\n\n    if (screen.width > window.util.screenWidth.TAB_MIN) {\n      if (!onToggleClick.isClicked) {\n        mainNav.animate({\n          left: -(mainNav.offset().left - $('body').offset().left - NAV_OPENED_MARGIN) + 'px'\n        }, NAV_TIMEOUT);\n      } else {\n        mainNav.animate({\n          left: 0\n        }, NAV_TIMEOUT);\n      }\n    }\n\n    if (screen.width <= window.util.screenWidth.TAB_MAX) {\n      const howScroll = $(window).scrollTop();\n\n      if (!onToggleClick.isClicked) {\n        $body.off('scroll').css({\n          overflow: 'hidden',\n          position: 'fixed',\n          top: `-${howScroll}px`,\n          left: '260px',\n          width: '100%'\n        });\n      } else {\n        $body.css({\n          overflow: '',\n          position: '',\n          top: '',\n          left: '',\n          width: ''\n        });\n      }\n    }\n  };\n\n  const onNavLinkClick = (evt) => {\n    const SCROLL_DURATION = 700;\n    const OFFSET_TOP_PLUS = -20;\n\n    evt.preventDefault();\n    onToggleClick();\n    const $title = $(`.${$(evt.target).attr('id')}`).find('.section-title');\n    $('html, body').animate({\n      scrollTop: $title.offset().top + OFFSET_TOP_PLUS + 'px'\n    }, SCROLL_DURATION);\n\n    $title.attr('tabindex', '0')\n      .focus().blur(function () {\n        $(this).removeAttr('tabindex');\n    });\n  };\n\n  $navItems.click(onNavLinkClick);\n\n  navToggle.click(() => {\n    onToggleClick();\n\n    if (!onToggleClick.isClicked) {\n      onToggleClick.isClicked = true;\n    }\n  });\n})();\n"],"file":"main-nav.js"}