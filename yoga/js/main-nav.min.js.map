{"version":3,"sources":["main-nav.js"],"names":["$body","$","mainNav","find","navList","navToggle","headerTop","$navItems","removeClass","onToggleClick","topHeight","height","css","toggleClass","fadeIn","this","isClicked","removeAttr","fadeOut","setTimeout","screen","width","window","util","screenWidth","TAB_MIN","animate","left","offset","TAB_MAX","howScroll","scrollTop","overflow","position","top","off","concat","click","evt","preventDefault","$title","target","attr","focus","blur"],"mappings":"AAAA,cAEA,WACE,IAAIA,EAAQC,EAAE,QACVC,EAAUF,EAAMG,KAAK,QACrBC,EAAUF,EAAQC,KAAK,cACvBE,EAAYH,EAAQC,KAAK,gBACzBG,EAAYN,EAAMG,KAAK,qBACvBI,EAAYN,EAAE,cAClBC,EAAQM,YAAY,cAEpB,IAAIC,EAAgB,SAASA,IAC3B,IAEIC,EAAYJ,EAAUK,SAkC1B,GAjCAL,EAAUM,IAAI,aAAcF,GAC5BR,EAAQW,YAAY,eACpBb,EAAMa,YAAY,gBAAgBD,IAAI,aAAc,UACpDR,EAAQS,YAAY,2BAA2BC,OAN7B,IAMiD,WACjEb,EAAEc,MAAMH,IAAI,UAAW,WAGrBH,EAAcO,YAChBV,EAAUM,IAAI,aAAc,IAC5BZ,EAAMa,YAAY,iBAAiBD,IAAI,aAAc,IAAIK,WAAW,SACpEb,EAAQS,YAAY,4BAA4BK,QAbhC,IAaqD,WACnEjB,EAAEc,MAAMH,IAAI,UAAW,MAEzBO,WAAW,WACTnB,EAAMQ,YAAY,iBAClBJ,EAAQI,YAAY,4BACpBR,EAAMiB,WAAW,SACjBR,EAAcO,WAAY,GApBZ,MAwBdI,OAAOC,MAAQC,OAAOC,KAAKC,YAAYC,UACpChB,EAAcO,UAKjBd,EAAQwB,QAAQ,CACdC,KAAM,GA/BM,KA0BdzB,EAAQwB,QAAQ,CACdC,OAAQzB,EAAQ0B,SAASD,KAAO1B,EAAE,QAAQ2B,SAASD,KA1BjC,IA0B6D,MA3BnE,MAoCdP,OAAOC,OAASC,OAAOC,KAAKC,YAAYK,QAAS,CACnD,IAAIC,EAAY7B,EAAEqB,QAAQS,YAErBtB,EAAcO,UASjBhB,EAAMY,IAAI,CACRoB,SAAU,GACVC,SAAU,GACVC,IAAK,GACLP,KAAM,GACNN,MAAO,KAbTrB,EAAMmC,IAAI,UAAUvB,IAAI,CACtBoB,SAAU,SACVC,SAAU,QACVC,IAAK,IAAIE,OAAON,EAAW,MAC3BH,KAAM,QACNN,MAAO,WA4Bfd,EAAU8B,MAdW,SAAwBC,GAG3CA,EAAIC,iBACJ9B,IACA,IAAI+B,EAASvC,EAAE,IAAImC,OAAOnC,EAAEqC,EAAIG,QAAQC,KAAK,QAAQvC,KAAK,kBAC1DF,EAAE,cAAcyB,QAAQ,CACtBK,UAAWS,EAAOZ,SAASM,KALN,GAK8B,MAN/B,KAQtBM,EAAOE,KAAK,WAAY,KAAKC,QAAQC,KAAK,WACxC3C,EAAEc,MAAME,WAAW,gBAKvBZ,EAAUgC,MAAM,WACd5B,IAEKA,EAAcO,YACjBP,EAAcO,WAAY,KAxFhC","sourcesContent":["'use strict';\n\n(function () {\n  const $body = $('body');\n  const mainNav = $body.find('.nav');\n  const navList = mainNav.find('.nav__list');\n  const navToggle = mainNav.find('.nav__toggle');\n  const headerTop = $body.find('.page-header__top');\n  const $navItems = $('.nav__link');\n\n  mainNav.removeClass('nav--no-js');\n\n  const onToggleClick = () => {\n    const NAV_TIMEOUT = 500;\n    const NAV_OPENED_MARGIN = 20;\n\n    const topHeight = headerTop.height();\n\n    headerTop.css('min-height', topHeight);\n    mainNav.toggleClass('nav--opened');\n    $body.toggleClass('body-anim-on').css('overflow-x', 'hidden');\n    navList.toggleClass('nav__list--animation-on')\n      .fadeIn(NAV_TIMEOUT, function () {\n        $(this).css('display', 'block');\n    });\n\n    if (onToggleClick.isClicked) {\n      headerTop.css('min-height', '');\n      $body.toggleClass('body-anim-off')\n        .css('overflow-x', '')\n        .removeAttr('style');\n      navList.toggleClass('nav__list--animation-off')\n        .fadeOut(NAV_TIMEOUT, function () {\n          $(this).css('display', '');\n      });\n\n      setTimeout(function () {\n        $body.removeClass('body-anim-off');\n        navList.removeClass('nav__list--animation-off');\n        $body.removeAttr('class');\n        onToggleClick.isClicked = false;\n      }, NAV_TIMEOUT);\n    }\n\n    if (screen.width > window.util.screenWidth.TAB_MIN) {\n      if (!onToggleClick.isClicked) {\n        mainNav.animate({\n          left: -(mainNav.offset().left - $('body').offset().left - NAV_OPENED_MARGIN) + 'px'\n        }, NAV_TIMEOUT);\n      } else {\n        mainNav.animate({\n          left: 0\n        }, NAV_TIMEOUT);\n      }\n    }\n\n    if (screen.width <= window.util.screenWidth.TAB_MAX) {\n      const howScroll = $(window).scrollTop();\n\n      if (!onToggleClick.isClicked) {\n        $body.off('scroll').css({\n          overflow: 'hidden',\n          position: 'fixed',\n          top: `-${howScroll}px`,\n          left: '260px',\n          width: '100%'\n        });\n      } else {\n        $body.css({\n          overflow: '',\n          position: '',\n          top: '',\n          left: '',\n          width: ''\n        });\n      }\n    }\n  };\n\n  const onNavLinkClick = (evt) => {\n    const SCROLL_DURATION = 700;\n    const OFFSET_TOP_PLUS = -20;\n\n    evt.preventDefault();\n    onToggleClick();\n    const $title = $(`.${$(evt.target).attr('id')}`).find('.section-title');\n    $('html, body').animate({\n      scrollTop: $title.offset().top + OFFSET_TOP_PLUS + 'px'\n    }, SCROLL_DURATION);\n\n    $title.attr('tabindex', '0')\n      .focus().blur(function () {\n        $(this).removeAttr('tabindex');\n    });\n  };\n\n  $navItems.click(onNavLinkClick);\n\n  navToggle.click(() => {\n    onToggleClick();\n\n    if (!onToggleClick.isClicked) {\n      onToggleClick.isClicked = true;\n    }\n  });\n})();\n"],"file":"main-nav.min.js"}