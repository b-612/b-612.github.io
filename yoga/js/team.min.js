"use strict";!function(){var e=$(".team"),t=$(".members-slider"),i=$.parseHTML($("#team-member").html()),n=function(e,t){var i=[];return e.forEach(function(e){var n=$(t).clone();n.text(e),i.push(n)}),Array.from(i)},r=function(e,t,i,n,a){var m=e.parent(),s=e.find("svg"),o=s.find("title");e.remove(),e.attr("href",t),s.attr("aria-labelledby",n+"heading-"+e.find("use").attr("xlink:href").split("#")[1]+"-user-"+r.counter),o.text(a+" "+i),e.find("title").attr("id",n+"heading-"+e.find("use").attr("xlink:href").split("#")[1]+"-user-"+r.counter),m.append(e),window.setTimeout(function(){var t=e.clone();m.empty(),m.append(t)},0)},a=function(){r.counter=1};a();var m=function(e,t,i){var n=e+"heading";t.find(".slick-cloned").find("."+i).each(function(e){$(this).attr("aria-labelledby",n+"-"+e),$(this).find("title").attr("id",n+"-"+e)})},s={URL:"https://b-612.github.io/json/yoga/team.json",ON_SUCCESS:{makeItems:window.items.makeItems},ON_ERROR:window.items.removeSection,MAKE_ITEM:function(e){var t,a,m=$(i).clone(),s={MEMBER_NAME:$(m).find(".team-member__name"),MEMBER_PRACTICE:$(m).find(".team-member__practice"),MEMBER_IMAGE:$(m).find(".team-member__avatar"),LINK_VK:$(m).find(".team-member__social-link--vk"),LINK_TWITTER:$(m).find(".team-member__social-link--twitter"),DESC_TITLE:$(m).find(".team-member__description-title"),EXPERIENCE_TIME:$(m).find(".team-member__experience-time"),DESCRIPTION:$(m).find(".team-member__description")};return window.items.makeText(s.MEMBER_NAME,e.name),window.items.makeText(s.MEMBER_PRACTICE,e.practice),t=s.MEMBER_IMAGE,a=e.image,t.attr("src","img/"+a+"-mob@1x.jpg"),t.attr("srcset","img/"+a+"-mob@2x.jpg 2x"),$(t.parent()).find('source[media="(min-width: 768px)"][type != "image/webp"]').attr("srcset","img/"+a+"-tablet@1x.jpg 1x, img/"+a+"-tablet@2x.jpg 2x"),$(t.parent()).find('source[media="(min-width: 1300px)"][type != "image/webp"]').attr("srcset","img/"+a+"-desktop@1x.jpg 1x, img/"+a+"-desktop@2x.jpg 2x"),$(t.parent()).find('source[type="image/webp"][media != "(min-width: 768px)"][media != "(min-width: 1300px)"]').attr("srcset","img/"+a+"-mob@1x.webp 1x, img/"+a+"-mob@2x.webp 2x"),$(t.parent()).find('source[media="(min-width: 768px)"][type = "image/webp"]').attr("srcset","img/"+a+"-tablet@1x.webp 1x, img/"+a+"-tablet@2x.webp 2x"),$(t.parent()).find('source[media="(min-width: 1300px)"][type = "image/webp"]').attr("srcset","img/"+a+"-desktop@1x.webp 1x, img/"+a+"-desktop@2x.webp 2x"),r(s.LINK_VK,e.vk,"Вконтакте","team",e.name),r(s.LINK_TWITTER,e.twitter,"в Твиттер","team",e.name),r.counter++,window.items.makeText(s.DESC_TITLE,e.name),window.items.makeText(s.EXPERIENCE_TIME,e.experienceTime),$(m).find(".team-member__description").remove(),n(e.description,s.DESCRIPTION[0]).forEach(function(e){m.find(".team-member__description-wrapper").append(e)}),$(m)[0]},SECTION:e,LIST_CLASS:"members-slider",MAKE_SLIDER:function(){$(".members-slider").slick({dots:!1,prevArrow:'<button class="members-slider__btn members-slider__btn--prev slider-arrow" type="button"><span class="visually-hidden">Предыдущий участник</span></button>',nextArrow:'<button class="members-slider__btn members-slider__btn--next slider-arrow" type="button"><span class="visually-hidden">Следующий участник</span></button>',infinite:!0,accessibility:!0,zIndex:1e3,speed:300,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:window.util.screenWidth.MOB_MAX,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!1}},{breakpoint:window.util.screenWidth.MOB_MID,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!1,draggable:!0}}]}),window.setTimeout(function(){m("team",t,"team-member__social-icon")},0)}};window.backend.getItems(s),window.team={makeDescription:n,makeSocial:r,resetSocialCounter:a,replaceClonedSocials:m}}();